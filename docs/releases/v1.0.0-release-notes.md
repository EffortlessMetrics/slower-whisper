# slower-whisper v1.0.0 Release Notes

**Tag:** `v1.0.0`
**Title:** slower-whisper v1.0.0 â€“ Production-ready audio transcription & enrichment

---

## Overview

slower-whisper is a local-first, GPU-accelerated transcription and audio-enrichment toolkit built on top of `ffmpeg` and `faster-whisper`.

This release turns slower-whisper from a well-built power tool into a production-ready library and service, with a clean Python API, unified CLI, and a two-stage pipeline:

- **Stage 1 â€“ Transcription:** ffmpeg + faster-whisper â†’ JSON/TXT/SRT
- **Stage 2 â€“ Audio Enrichment (optional):** prosody + emotion â†’ `audio_state` features that text-only LLMs can "hear"

---

## Highlights

### ðŸ§  Two-Stage Pipeline

- **Stage 1: Transcription**
  - Normalizes audio to 16 kHz mono WAV (`raw_audio/` â†’ `input_audio/`)
  - Transcribes via faster-whisper on CUDA (CPU fallback supported)
  - Outputs:
    - `whisper_json/<name>.json` â€“ canonical JSON (schema v2)
    - `transcripts/<name>.txt` â€“ timestamped text
    - `transcripts/<name>.srt` â€“ subtitles

- **Stage 2: Audio Enrichment (optional)**
  - Prosody features: pitch, energy, speech rate, pauses
  - Emotion features: dimensional (valence/arousal/dominance) + categorical labels
  - Populates `segments[*].audio_state` and human-readable `rendering`, e.g.:
    - `[audio: high pitch, loud volume, fast speech, excited tone]`

### ðŸ›  Public API & Unified CLI

- New high-level Python API:

  ```python
  from transcription import (
      transcribe_directory,
      transcribe_file,
      enrich_directory,
      enrich_transcript,
      TranscriptionConfig,
      EnrichmentConfig,
      load_transcript,
      save_transcript,
  )
  ```

- Unified CLI:

  ```bash
  # Transcription
  slower-whisper transcribe --root /path/to/project --model large-v3 --device cuda

  # Enrichment
  slower-whisper enrich --root /path/to/project --enable-prosody --enable-emotion
  ```

- Legacy entry points (`transcribe_pipeline.py`, `audio_enrich.py`) kept for backward compatibility.

### âš™ï¸ Configuration System

- Config precedence:

  ```text
  CLI flags  >  config files  >  env vars (SLOWER_WHISPER_*)  >  defaults
  ```

- `TranscriptionConfig` / `EnrichmentConfig` dataclasses with:

  - `from_file()` for JSON configs
  - `from_env()` for env-based overrides

- Example configs under `examples/config_examples/`.

### ðŸš€ Deployment Options

- **Local CLI** â€“ `uv sync` â†’ `slower-whisper transcribe` / `enrich`
- **Docker** â€“ CPU, GPU, and API images (`Dockerfile`, `Dockerfile.gpu`, `Dockerfile.api`)
- **Kubernetes** â€“ 11 manifests (Deployments, Services, ConfigMaps, PVC, HPA, Jobs, etc.)
- **FastAPI Service** â€“ optional REST API with `/transcribe`, `/enrich`, `/health`, `/docs`

---

## Quality & Testing

- **Python:** 3.10+
- **License:** Apache 2.0
- **Tests:** 191 passing (unit, integration, BDD), 6 skipped, 15 expected xfail
- **Coverage:** ~57% overall, 80â€“100% on core modules
- **Tooling:**

  - uv + `pyproject.toml` + `uv.lock`
  - ruff (lint + format), mypy, pytest, pytest-bdd
  - pre-commit hooks for linting, formatting, YAML/JSON/TOML validation

---

## Backward Compatibility

- No breaking changes from pre-1.0.0:

  - Existing JSON transcripts (schema v1) are still readable.
  - Legacy CLI commands still function.
  - Old internal classes (`AppConfig`, `AsrConfig`, `Paths`) are still exported.

New API and CLI are additive and are the recommended interfaces going forward.

---

## Getting Started

```bash
# Install uv (once per machine)
curl -LsSf https://astral.sh/uv/install.sh | sh

# Clone
git clone https://github.com/EffortlessMetrics/slower-whisper.git
cd slower-whisper

# Base transcription only
uv sync

# Full enrichment (prosody + emotion)
uv sync --extra full

# Transcribe
uv run slower-whisper transcribe

# Enrich
uv run slower-whisper enrich
```

See the [README](../../README.md), [docs/INDEX.md](../INDEX.md), and [ROADMAP.md](../../ROADMAP.md) for full documentation and future plans.

---

## What's Changed

### Features
- New high-level Python API (`transcription.api`)
- Unified CLI with `transcribe` and `enrich` subcommands
- Configuration system with file, env, and CLI precedence
- JSON schema v2 with `audio_state` field
- Docker multi-stage builds (CPU/GPU/API variants)
- Kubernetes deployment manifests
- Optional FastAPI service
- Audio enrichment with prosody and emotion features
- Speaker-relative prosody normalization
- Comprehensive error handling and validation

### Documentation
- Complete API reference
- Architecture documentation
- Deployment guides (Docker, Kubernetes)
- Contributing guidelines
- Security policy
- ROADMAP for future development
- Example configurations and scripts

### Testing & Quality
- 191 passing tests with 57% coverage
- BDD tests for user stories
- Integration tests for full pipeline
- Pre-commit hooks (ruff, mypy, formatting)
- GitHub Actions CI/CD

### Infrastructure
- Docker images for CPU, GPU, and API deployment
- Kubernetes manifests with HPA, ConfigMaps, Jobs
- uv package manager integration
- Dependency management with extras (base/full/dev)

---

## Known Limitations

- Audio enrichment requires additional dependencies (`uv sync --extra full`)
- Emotion recognition requires ~4GB model download on first use
- GPU acceleration requires NVIDIA CUDA drivers
- Some tests marked as xfail require ffmpeg (integration environment)

---

## Contributors

This release was made possible by extensive development, testing, and documentation work. Thank you to everyone who contributed!

See [CHANGELOG.md](../../CHANGELOG.md) for detailed change history.

---

## Next Steps

See [ROADMAP.md](../../ROADMAP.md) for planned features:
- Multi-speaker diarization with per-speaker baselines
- Real-time streaming transcription
- Advanced audio features (voice quality, turn-taking)
- Performance optimizations
- Extended LLM integration examples

---

## Links

- **Repository:** https://github.com/EffortlessMetrics/slower-whisper
- **Documentation:** [docs/INDEX.md](../INDEX.md)
- **Issues:** https://github.com/EffortlessMetrics/slower-whisper/issues
- **Security:** [SECURITY.md](../../SECURITY.md)

---

**Full Changelog**: https://github.com/EffortlessMetrics/slower-whisper/compare/v0.1.0...v1.0.0
